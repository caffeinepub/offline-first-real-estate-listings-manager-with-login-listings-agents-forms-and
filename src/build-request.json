{
  "kind": "build_request",
  "title": "Apply uploaded logo to header + PWA icons and redeploy to fix canister link",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Replace the app’s branding assets with the user-uploaded logo image (IMG_4299-3.jpeg) by regenerating the static PNG files used by the UI and PWA so the new logo appears in the header, browser favicon, and installed PWA icon.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "recent-11"
        ],
        "quotes": [
          "Attached/uploaded is the logo",
          "Main app logo, header and pwa icon."
        ]
      },
      "acceptanceCriteria": [
        "The header logo renders using /assets/generated/app-logo.dim_512x512.png and visually matches the uploaded IMG_4299-3.jpeg.",
        "The favicon and Apple touch icon reference /assets/generated/app-icon.dim_192x192.png and visually match the uploaded IMG_4299-3.jpeg.",
        "The web manifest icons (/assets/generated/app-icon.dim_192x192.png and /assets/generated/app-icon.dim_512x512.png) visually match the uploaded IMG_4299-3.jpeg."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Force installed PWAs and offline users to receive the updated branding assets by bumping the service worker cache version and ensuring the logo/icon assets remain in the precache list.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "recent-11"
        ],
        "quotes": [
          "Main app logo, header and pwa icon."
        ]
      },
      "acceptanceCriteria": [
        "The service worker cache version is incremented so existing clients do not keep using the old cached logo/icon assets.",
        "/assets/generated/app-logo.dim_512x512.png, /assets/generated/app-icon.dim_192x192.png, and /assets/generated/app-icon.dim_512x512.png are precached and served correctly after update."
      ]
    },
    {
      "id": "REQ-3",
      "text": "Rebuild and redeploy the application to production to provide a fresh working icp0.io URL that does not return HTTP 400 'Canister ID Not Resolved'.",
      "target": "unknown",
      "source": {
        "messageIds": [
          "recent-7",
          "recent-11"
        ],
        "quotes": [
          "Error 400\nCanister ID Not Resolved",
          "1. Yes",
          "3. Yes"
        ]
      },
      "acceptanceCriteria": [
        "A new production URL is produced and opening it in a browser loads the app successfully (no HTTP 400 'Canister ID Not Resolved').",
        "The production deployment includes the updated branding assets from REQ-1 and the cache-bust changes from REQ-2."
      ]
    }
  ],
  "constraints": [
    "Do not modify files under frontend/src/components/ui (read-only UI component sources).",
    "Do not edit frontend/src/hooks/useInternetIdentity.ts, frontend/src/hooks/useInternetIdentity.tsx, frontend/src/hooks/useActor.ts, or frontend/src/main.tsx (immutable paths).",
    "Keep backend as a single Motoko actor in backend/main.mo; create backend/migration.mo only if a state upgrade is required."
  ],
  "nonGoals": [
    "Adding new authentication providers (only Internet Identity is supported).",
    "Changing the app’s data model or adding new CRUD features unrelated to branding or redeploy.",
    "Implementing real-time features (WebSockets/chat/push notifications)."
  ],
  "imageRequirements": {
    "required": [],
    "edits": [
      "Replace the existing logo artwork with the user-provided IMG_4299-3.jpeg (app-logo.dim_512x512.png > app-logo.dim_512x512.png)",
      "Replace the existing app icon artwork with the user-provided IMG_4299-3.jpeg (app-icon.dim_192x192.png > app-icon.dim_192x192.png)",
      "Replace the existing app icon artwork with the user-provided IMG_4299-3.jpeg (app-icon.dim_512x512.png > app-icon.dim_512x512.png)"
    ]
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}